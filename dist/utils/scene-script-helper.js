"use strict";
/// <reference path="../types/editor-2x.d.ts" />
Object.defineProperty(exports, "__esModule", { value: true });
exports.callSceneScriptAsync = callSceneScriptAsync;
/**
 * Helper function to call scene scripts with Promise-based API
 * Converts callback-based callSceneScript to Promise-based
 */
function callSceneScriptAsync(module, method, ...args) {
    return new Promise((resolve, reject) => {
        // Create callback function
        const callback = (err, result) => {
            if (err) {
                reject(err);
            }
            else {
                resolve(result);
            }
        };
        // Call with args spread and callback as last parameter
        // Handle different argument counts to ensure callback is last
        if (args.length === 0) {
            Editor.Scene.callSceneScript(module, method, callback);
        }
        else if (args.length === 1) {
            Editor.Scene.callSceneScript(module, method, args[0], callback);
        }
        else if (args.length === 2) {
            Editor.Scene.callSceneScript(module, method, args[0], args[1], callback);
        }
        else if (args.length === 3) {
            Editor.Scene.callSceneScript(module, method, args[0], args[1], args[2], callback);
        }
        else if (args.length === 4) {
            Editor.Scene.callSceneScript(module, method, args[0], args[1], args[2], args[3], callback);
        }
        else if (args.length === 5) {
            Editor.Scene.callSceneScript(module, method, args[0], args[1], args[2], args[3], args[4], callback);
        }
        else {
            // Fallback for more args - use rest parameter overload
            Editor.Scene.callSceneScript(module, method, ...args, callback);
        }
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NlbmUtc2NyaXB0LWhlbHBlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NvdXJjZS91dGlscy9zY2VuZS1zY3JpcHQtaGVscGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxnREFBZ0Q7O0FBTWhELG9EQThCQztBQWxDRDs7O0dBR0c7QUFDSCxTQUFnQixvQkFBb0IsQ0FBQyxNQUFjLEVBQUUsTUFBYyxFQUFFLEdBQUcsSUFBVztJQUMvRSxPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQ25DLDJCQUEyQjtRQUMzQixNQUFNLFFBQVEsR0FBRyxDQUFDLEdBQWlCLEVBQUUsTUFBVyxFQUFFLEVBQUU7WUFDaEQsSUFBSSxHQUFHLEVBQUUsQ0FBQztnQkFDTixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDaEIsQ0FBQztpQkFBTSxDQUFDO2dCQUNKLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNwQixDQUFDO1FBQ0wsQ0FBQyxDQUFDO1FBRUYsdURBQXVEO1FBQ3ZELDhEQUE4RDtRQUM5RCxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDcEIsTUFBTSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztRQUMzRCxDQUFDO2FBQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQzNCLE1BQU0sQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ3BFLENBQUM7YUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDM0IsTUFBTSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzdFLENBQUM7YUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDM0IsTUFBTSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUN0RixDQUFDO2FBQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQzNCLE1BQU0sQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQy9GLENBQUM7YUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDM0IsTUFBTSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ3hHLENBQUM7YUFBTSxDQUFDO1lBQ0osdURBQXVEO1lBQ3ZELE1BQU0sQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDcEUsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBlcy9lZGl0b3ItMnguZC50c1wiIC8+XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGNhbGwgc2NlbmUgc2NyaXB0cyB3aXRoIFByb21pc2UtYmFzZWQgQVBJXG4gKiBDb252ZXJ0cyBjYWxsYmFjay1iYXNlZCBjYWxsU2NlbmVTY3JpcHQgdG8gUHJvbWlzZS1iYXNlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsbFNjZW5lU2NyaXB0QXN5bmMobW9kdWxlOiBzdHJpbmcsIG1ldGhvZDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gQ3JlYXRlIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKGVycjogRXJyb3IgfCBudWxsLCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ2FsbCB3aXRoIGFyZ3Mgc3ByZWFkIGFuZCBjYWxsYmFjayBhcyBsYXN0IHBhcmFtZXRlclxuICAgICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IGFyZ3VtZW50IGNvdW50cyB0byBlbnN1cmUgY2FsbGJhY2sgaXMgbGFzdFxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIEVkaXRvci5TY2VuZS5jYWxsU2NlbmVTY3JpcHQobW9kdWxlLCBtZXRob2QsIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgRWRpdG9yLlNjZW5lLmNhbGxTY2VuZVNjcmlwdChtb2R1bGUsIG1ldGhvZCwgYXJnc1swXSwgY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBFZGl0b3IuU2NlbmUuY2FsbFNjZW5lU2NyaXB0KG1vZHVsZSwgbWV0aG9kLCBhcmdzWzBdLCBhcmdzWzFdLCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgIEVkaXRvci5TY2VuZS5jYWxsU2NlbmVTY3JpcHQobW9kdWxlLCBtZXRob2QsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgRWRpdG9yLlNjZW5lLmNhbGxTY2VuZVNjcmlwdChtb2R1bGUsIG1ldGhvZCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSA1KSB7XG4gICAgICAgICAgICBFZGl0b3IuU2NlbmUuY2FsbFNjZW5lU2NyaXB0KG1vZHVsZSwgbWV0aG9kLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjayBmb3IgbW9yZSBhcmdzIC0gdXNlIHJlc3QgcGFyYW1ldGVyIG92ZXJsb2FkXG4gICAgICAgICAgICBFZGl0b3IuU2NlbmUuY2FsbFNjZW5lU2NyaXB0KG1vZHVsZSwgbWV0aG9kLCAuLi5hcmdzLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuIl19